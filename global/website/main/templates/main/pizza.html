{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Меню</title>
    <link rel="stylesheet" href="{% static 'main/css/pizza.css' %}">
    <script src="{% static 'main/js/pizza.js' %}" defer></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
</head>
<body>
    <a href="/" class="pref">Galactic Pizza</a>
    <h1>Пиццы</h1>
    <ul>
        {% for pizza in pizzas %}
            <li>
                <img src="{{ pizza.image.url }}" alt="{{ pizza.name }}" class="pizza-image">
                <div>
                    <h3>{{ pizza.name }}</h3>
                    <p>{{ pizza.price }}₽</p>
                    <button class="edit-btn" data-id="{{ pizza.id }}" data-name="{{ pizza.name }}" data-price="{{ pizza.price }}" data-image="{{ pizza.image.url }}" data-description="Наша пицца {{ pizza.name }} — это великолепное сочетание лучших ингредиентов. Тонкое хрустящее тесто, сочные томаты, свежий базилик, и расплавленный сыр создают уникальный вкус, который подарит вам настоящее удовольствие. Идеально подходит для любой трапезы!">Редактирование</button>
                    <button class="add-to-cart-btn" type="button" data-id="{{ pizza.id }}">
                        <i class="fas fa-cart-plus"></i>
                        <span class="cart-animation"></span>
                    </button>
                </div>
            </li>
        {% endfor %}
    </ul>
    <a href="{% url 'go_to_cart' %}" class="cart-btn"><i class="fas fa-shopping-cart"></i> Корзина</a>

    <!-- Modal -->
    <div id="modal" class="modal">
        <div class="modal-content">
            <span class="close-btn">&times;</span>
            <div class="modal-body">
                <img id="modal-image" src="" alt="Pizza Image">
                <div class="modal-text">
                    <h3 id="modal-name"></h3>
                    <p id="modal-price"></p>
                    <p id="modal-description">Описание пиццы</p>
                    <form id="ingredients-form" action="" method="post">
                        {% csrf_token %}
                        <div class="ingredients">
                            {% for ingredient in ingredients %}
                                <input type="checkbox" id="ingredient-{{ ingredient.id }}" name="ingredients" value="{{ ingredient.id }}" checked>
                                <label for="ingredient-{{ ingredient.id }}">{{ ingredient.name }}</label>
                            {% endfor %}
                        </div>
                        <input type="hidden" name="pizza_id" id="pizza-id">
                        <button type="submit">В корзину</button>
                    </form>
                </div>
            </div>
        </div>
    </div>
</body>
</html>
